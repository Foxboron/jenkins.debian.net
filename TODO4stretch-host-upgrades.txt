things to look at on jenkins.d.n. after the upgrade
---------------------------------------------------
rescheduling now fails:
[11:05] < bunk> 03:24:05> rescheduling fails with error: http://paste.debian.net/974010/
[11:05] < bunk> 03:24:25> psycopg2.OperationalError: could not connect to server: No such file or directory

failing jobs:
	https://jenkins.debian.net/job/reproducible_scheduler/
	https://jenkins.debian.net/job/reproducible_json/
	https://jenkins.debian.net/job/reproducible_html_live_status/
	https://jenkins.debian.net/job/reproducible_html_pkg_sets
	https://jenkins.debian.net/job/reproducible_html_dashboard
	https://jenkins.debian.net/job/reproducible_html_notes

kept the jessie versions:
	Configuration file '/etc/default/shorewall'
	Configuration file '/etc/shorewall/shorewall.conf'
	Configuration file '/etc/shorewall6/shorewall6.conf'
	Configuration file '/etc/calamaris/calamaris.conf'
	Configuration file '/etc/apache2/conf-available/security.conf'


   │ Obsolete major version 9.4                                                                         
   │                                                                                                    
   │ The PostgreSQL version 9.4 is obsolete, but the server or client packages are still installed.     
   │ Please install the latest packages (postgresql-9.6 and postgresql-client-9.6) and upgrade the      
   │ existing  clusters with pg_upgradecluster (see manpage).                                           
   │                                                                                                    
  │ Please be aware that the installation of postgresql-9.6 will automatically create a default        
   │ cluster 9.6/main. If you want to upgrade the 9.4/main cluster, you need to remove the already      
   │ existing 9.6 cluster (pg_dropcluster --stop 9.6 main, see manpage for details).                    
   │                                                                                                    
   │ The old server and client packages are no longer supported. After the existing clusters are        
   │ upgraded, the postgresql-9.4 and postgresql-client-9.4 packages should be removed.    

   │ Please see /usr/share/doc/postgresql-common/README.Debian.gz for details.                          

-> didnt cleanup installed packages on jenkins just yet

when running update_jdn on jenkins
----------------------------------
Package libvirt-bin is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source
However the following packages replace it:
  libvirt-daemon-system libvirt-dev libvirt-clients

E: Unable to locate package libapache2-mod-macro
E: Package 'libvirt-bin' has no installation candidate
E: Unable to locate package libvpx1
E: Package 'postgresql-client-9.4' has no installation candidate

on shutdown lots of:
	umounting /run/schroot/moznt/jenkins-reproducible-*




pb10
----
had to apt install linux-image-amd64 should go in update_jdn and why is that even neccessary?

update_jdn on pb10:
Problems on profitbricks-build10-amd64.debian.net: adduser: The group `libvirt' does not exist.

update_jdn on pb16:
Problems on profitbricks-build16-i386.debian.net: 30 Jun 11:34:16 ntpdate[5788]: the NTP socket is in use, exiting


update_jdn.sh
-------------
refactor some apt-get install calls away (which used to be needed because of jessie-backports…)


open problems
-------------
- dsa-check-packages points to /bin/true on hosts running in the future
- compare sshd_config from stretch with the one we're using (from jessie)
- check "systemctl -a" for "not found" and failed services, like haveged…
	haveged not running on pb3+4+12, while running fine on 2+6+16 ?!???

no i386 kernels on i386
-----------------------
because of:
#866314: linux-image-4.9.0-3-686-pae: 100+ times slower disk writes on 4.x+/i386/16+RAM, compared to 3.x
amd64 kernel was manually installed with multiarch, should go into update_jdn
also on pb3+4+9 I had to do: sudo apt install linux-image-amd64


to be done once all hosts run stretch: squid
--------------------------------------------
It seems the squid configuration moved from /etc/squid3 to /etc/squid.  postinst
script takes care of moving the files, but we should eventually:
1) move them in our git repo too
2) delete /etc/squid3 from the hosts
3) install squid instead of squid3 in update_jdn (once all hosts are upgraded) - that's going to mark the package as manually installed
4) apt purge squid3

to be done once all hosts run stretch: sshd_config
--------------------------------------------------
/etc/ssh/sshd_config - the currently running one is the one from jessie, we should update_jdn to the one from stretch


done for upgrades
-----------------
all i386+armhf+amd64 nodes
